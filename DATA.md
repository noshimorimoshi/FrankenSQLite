## Справочник

Примеры данных для справочных таблиц в SCHEMA.md. Эти таблицы содержат предопределенные или часто используемые значения, на которые ссылаются другие таблицы.

### Таблица: `status`

| id | name                                         | description                                                         | type              |
|----|----------------------------------------------|---------------------------------------------------------------------|-------------------|
| 1  | Оформление заказа                          |                                                                     | order             |
| 2  | Заказан (не оплачен)                       | покупатель оформил заказ, но не оплатил.                              | order             |
| 3  | Оплачен                                      | продавец получил деньги, готовит товар.                               | order             |
| 4  | Отменён (до отправки)                      | заказ аннулирован до отправки.                                        | order             |
| 5  | Приобретён где-то ещё                      | покупатель нашёл аналогичный товар в другом месте.                  | order             |
| 6  | Решено не заказывать                       | покупатель отказался от покупки.                                     | order             |
| 7  | Ошибочно заказан (до отправки)             | товар не соответствует ожиданиям (не тот размер, цвет и т. д.).        | order             |
| 8  | Тестовый заказ (оформлен)                  | заказан образец для проверки перед массовой закупкой.                 | order             |
| 9  | Отложен (оформление)                       | заказ временно не оформляется, решение будет принято позже.           | order             |
| 10 | Подготовка и отправка                      |                                                                     | shipment          |
| 11 | Упакован                                     | товар подготовлен к отправке.                                        | shipment          |
| 12 | Отправлен                                    | передан транспортной компании.                                      | shipment          |
| 13 | Изменён адрес доставки                     | получатель запросил изменение адреса.                               | shipment          |
| 14 | Транспортировка                            |                                                                     | shipment          |
| 15 | В пути                                       | движется к стране назначения.                                        | shipment          |
| 16 | Прибыл в страну                              | достиг границы страны получателя.                                   | shipment          |
| 17 | На таможне                                   | проходит проверку.                                                  | shipment          |
| 18 | Растаможен                                   | допущен к доставке.                                                 | shipment          |
| 19 | Локальная доставка                         |                                                                     | shipment          |
| 20 | На доставке                                  | передан местному перевозчику.                                       | shipment          |
| 21 | В пункте выдачи                            | ожидает получения.                                                  | shipment          |
| 22 | Неудачная попытка доставки                 | курьер не смог доставить.                                           | shipment          |
| 23 | Получен                                      | покупатель подтвердил получение.                                    | order             |
| 24 | Неполучен                                    | покупатель не получил посылку.                                      | order             |
| 25 | Частично получен (из нескольких заказов)   | часть комплектующих пришла, часть ещё в пути.                         | order             |
| 26 | Частично утерян (из нескольких заказов)    | часть заказов утеряна.                                              | order             |
| 27 | Частично не заказан (из нескольких заказов) | какие-то части товара ещё не были оформлены.                        | order             |
| 28 | Утерян                                       | посылка пропала по дороге.                                          | order             |
| 29 | Повреждён                                    | товар повреждён в процессе доставки.                                | order             |
| 30 | Ошибочно заказан (финальный)               | заказан неверный товар (не тот размер, цвет, модель и т. д.), дальнейшие действия не определены. | order             |
| 31 | Тестовый заказ одобрен                     | образец устроил, можно заказывать партию.                            | order             |
| 32 | Тестовый заказ не одобрен                  | образец не устроил, массовый заказ не будет оформлен.               | order             |
| 33 | Возврат и споры                            |                                                                     | return_dispute    |
| 34 | Открыт спор                                  | покупатель подал претензию.                                         | return_dispute    |
| 35 | Спор: Ожидание решения                     | продавец/платформа рассматривает спор.                               | return_dispute    |
| 36 | Возвращён                                    | покупатель отправил товар обратно.                                  | return_dispute    |
| 37 | Возврат подтверждён                        | продавец получил возврат.                                           | return_dispute    |
| 38 | Возврат средств                            | деньги возвращены покупателю.                                       | return_dispute    |
| 39 | Активен в очереди                          | Элемент находится в активной очереди для рассмотрения или обработки. | queue             |
| 40 | На паузе в очереди                         | Элемент временно приостановлен в обработке.                          | queue             |
| 41 | Отменён (продавец)                         | Элемент удален из очереди по причине отмены продавцом.               | queue             |
| 42 | Обработка возврата/спора (в очереди)       | Элемент связан с текущим процессом возврата или спора.             | queue             |
| 43 | Завершён (очередь)                         | Элемент обработан из очереди (например, добавлен в корзину, архивирован). | queue             |
| 44 | Отложен (в очереди)                        | Элемент временно не обрабатывается в очереди, решение будет принято позже. | queue             |
| 45 | Решено не заказывать (в очереди)           | Принято решение не заказывать товар из очереди.                     | queue             |

### Таблица: `priority`

| id | name    | level | description            |
|----|---------|-------|------------------------|
| 1  | Lowest  | 0     | Minimal priority...    |
| 2  | Low     | 2     | Low priority...        |
| 3  | Medium  | 5     | Medium priority...     |
| 4  | High    | 7     | High priority...       |
| 5  | Critical| 10    | Immediate attention... |

---

## Тестовый заказ

Данные для конкретного тестового заказа, сгенерированные на различных этапах рабочего процесса и структурированные для загрузки в соответствующие таблицы БД согласно SCHEMA.md.

### Этап 1: Поиск и Приоритезация (Анализ предложений и бэклог)

Данные, собранные на этапе анализа предложений и приоритизации, отражающие состояние товаров в бэклоге.

#### Таблица: `product` (создание/обновление)

| id | keyword                                       | wekan_task_id | created_at          | updated_at          | wekan_priority |
|----|-----------------------------------------------|---------------|---------------------|---------------------|----------------|
| 15 | разъём rj9 / rj10 / rj11; male plug connector; 4P4 plug RJ9/RJ10 |               | 2024-04-13 22:00:00 | 2024-04-13 22:00:00 | 3              |
| 76 | Аудио кабель 4-полюсный разъем стерео       |               | 2024-04-13 22:00:00 | 2024-04-13 22:00:00 | 0              |
| 52 | Клей Момент                                |               | 2024-08-16 10:00:00 | 2024-08-16 10:00:00 | 2              |
| 4 | Пневматическая быстроразъёмная муфта PCF 6-04 |               | 2021-03-20 00:00:00 | 2021-03-20 00:00:00 | 6              |
| 2 | RGB светодиодная лента HugSunLight         |               | 2024-07-21 00:00:00 | 2024-07-21 00:00:00 | 6              |
| 20 | Ручной пресс для чеснока                   |               | 2024-10-10 00:00:00 | 2024-10-10 00:00:00 | 3              |
| 6 | Медный провод 0,1, ~ длина 650 м -400 ПРОМОКОД COMBO |               | 2024-09-09 00:00:00 | 2024-09-09 00:00:00 | 5              |
| 75 | Трусы                                      |               | 2025-03-07 00:00:00 | 2025-03-07 00:00:00 | 1              |

#### Таблица: `offer` (создание/обновление)

| id | product_id (FK) | channel | price | status (Enum/FK) | available | acquisition_cost |
|----|-----------------|---------|-------|------------------|-----------|------------------|
|    |                 |         |       |                  |           |                  |

#### Таблица: `competitor_price` (создание/обновление)

| id | product_id (FK) | competitor_name | price | recorded_at |
|----|-----------------|-----------------|-------|-------------|
| 1 | 2 | Ozon | 600.00 | [Timestamp] |

#### Таблица: `queue` (создание/обновление)

| id | product_id (FK) | status_id (FK) | priority_id (FK) | created_at | note |
|----|-----------------|----------------|------------------|------------|------|
| 1  | 15              | 42             | 2                | 2024-05-21 10:00:00 | 22 мая открыть спор для возврата средств |
| 2  | 76              | 42             | 2                | 2024-05-21 10:05:00 | 22 мая открыть спор для возврата средств |
| 3  | 52              | 39             | 2                | 2024-08-16 10:00:00 | |
| 4  | 4               | 41             | 3                | 2021-03-20 00:00:00 | Продавец потребовал отмены. Получено 100 баллов |
| 5  | 2               | 39             | 3                | [Timestamp] | |
| 6  | 20              | 39             | 2                | [Timestamp] | |
| 7  | 6               | 39             | 3                | [Timestamp] | -400 ПРОМОКОД COMBO |
| 8  | 75              | 40             | 1                | [Timestamp] | |

### Этап 1.5: Создание карточки товара (внутренний каталог)

Данные для создания карточки товара в нашем внутреннем каталоге.

#### Таблица: `catalog` (создание/обновление)

| id | product_id (FK) | name                                                  | url                                       | model                                     | cost  | category                                                                                                       | brand | description                                   | barcode | vendor_code |
|----|-----------------|-------------------------------------------------------|-------------------------------------------|-------------------------------------------|-------|----------------------------------------------------------------------------------------------------------------|-------|-----------------------------------------------|---------|-------------|
| 1  | 4               | Белые пневматические фитинги 1/4 1/2 6 мм 8 мм BSP | aliexpress.ru/item/1005004135633297.html | Цвет 6-04 (6mm-1/2) Характеристики PCF | 273   | AliExpress / Обустройство дома и инструменты / Ремонт и обустройство / Крепеж и скобяные изделия / Пневматические детали |       | Пневматическая быстроразъёмная муфта PCF 6-04 |         |             |
| 2  | 2               | RGB светодиодная лента HugSunLight 5 м                | aliexpress.ru/item/32780331531.html       | Длина 3m Испускаемый цвет Cold White Led Strip | 275   | AliExpress / Дом, сад и офис / Лампы и освещение / Светодиодное освещение / Светодиодная лента          | HugSunLight | RGB светодиодная лента HugSunLight         |         |             |

### Этап 2: Идентификация и Настройка Пользователя (Заполнение таблиц `user_account`, `address`)

Данные для создания или идентификации тестового пользователя и его адресов.

#### Таблица: `user_account` (создание/обновление)

| id | username | password | email | created_at | default_shipping_address_id (FK) |
|----|----------|----------|-------|------------|----------------------------------|
|  |  |  |  |  |  |

#### Таблица: `address` (создание/обновление)

| id | street | city | state_province | postal_code | country | building_apt | details |
|----|--------|------|----------------|-------------|---------|--------------|---------|
|  |  |  |  |  |  |  |  |

### Этап 3: Корзина (Заполнение таблиц `basket`, `basket_item`)

Данные о товарах, добавленных в корзину, и связанная информация. Эти данные используются для создания или обновления записей в таблицах `basket` и `basket_item`.

#### Таблица: `basket` (создание/обновление)

| id | user_account_id (FK) | created_at | updated_at | total_amount | strategy |
|----|----------------------|------------|------------|--------------|----------|
| 1 | [User ID из Этапа 3] | [Timestamp] | [Timestamp] | [Calculated Total] | Тестовый заказ - Сборка корзины |

#### Таблица: `basket_item` (создание/обновление)

| id | basket_id (FK) | product_id (FK) | qty | added_at | price_at_add | subtotal | queue_id (FK) |
|----|----------------|-----------------|-----|----------|--------------|----------|---------------|
| 1 | 1 | 2 | 1 | [Timestamp] | 500.00 | 500.00 | 5 |
| 2 | 1 | 6 | 1 | [Timestamp] | [Price of Медный провод] | [Subtotal] | 7 |

### Этап 4: Оплата/Кошелек (Заполнение таблиц `payment`, `pay_method`, `wallet`)

Данные, связанные с процессом оплаты. Эти данные используются для создания или обновления записей в таблицах `payment`, `pay_method`, и `wallet`.

#### Таблица: `payment` (создание/обновление)

| id | order_id (FK) | pay_method_id (FK) | paid_at | amount | cashback_received |
|----|---------------|--------------------|---------|--------|-------------------|
|  | [Order ID из Этапа 6] |  |  |  |  |

#### Таблица: `pay_method` (создание/обновление, если добавляется новый метод)

| id | name | wallet_id (FK) | currency_id (FK) | details |
|----|------|----------------|------------------|---------|
|  |  |  |  |  |

#### Таблица: `wallet` (создание/обновление, если добавляется новый кошелек)

| id | name | balance | currency_id (FK) |
|----|------|---------|------------------|
|  |  |  |  |

### Этап 5: Оформление Заказа и Доставка (Заполнение таблиц `order`, `order_item`, `shipment`)

Финальные данные заказа, включая информацию об отгрузке и финальные данные элементов заказа.

#### Таблица: `order` (создание/обновление)

| id | user_account_id (FK) | order_date | status_id (FK) | total_amount | shipping_address_id (FK) | billing_address_id (FK) |
|----|----------------------|------------|----------------|--------------|--------------------------|-------------------------|
|  | [User ID из Этапа 3] |  |  |  | [Address ID из Этапа 3] | [Address ID из Этапа 3] |

#### Таблица: `order_item` (создание/обновление - финальные данные элементов корзины)

| id | order_id (FK) | product_id (FK) | qty | price_per_item | subtotal | cost_of_goods_sold | sale_price | discount_amount | discount_description |
|----|---------------|-----------------|-----|----------------|----------|--------------------|------------|-----------------|----------------------|
|  | [Order ID из текущего Этапа 6] |  |  |  |  |  |  |  |  |

#### Таблица: `shipment` (создание/обновление)

| id | order_id (FK) | shipped_at | delivered_at | tracking_number | status_id (FK) | shipping_cost | shipping_address_id (FK) |
|----|---------------|------------|--------------|-----------------|----------------|---------------|--------------------------|
|  | [Order ID из текущего Этапа 6] |  |  |  |  |  | [Address ID из Этапа 3] |
