### **Рабочее соглашение (версия 2.0)**

**1. Главная миссия:**
Наша основная задача — итеративно построить и проверить оптимальную схему базы данных (`SCHEMA.md`) для системы отслеживания интернет-заказов. Мы используем `DATA.md` как холст для сбора и структурирования тестовых данных, проверяя гипотезы на практике.

**2. Наш метод ("Вопрос-Ответ" и Итеративность):**
Мы движемся последовательно по таблицам и полям в `DATA.md`, согласно логике, описанной в `DATA_ORDER.md`. Я задаю вопросы для заполнения данных. Если данных нет, мы совместно решаем, оставить ли поле пустым или использовать правдоподобные вымышленные значения. Наш подход — **итеративный**: мы "проживаем" рабочий процесс, и если обнаруживаем, что схема неоптимальна, мы возвращаемся к `SCHEMA.md` и корректируем ее.

**3. Ключевые архитектурные решения:**
*   **`product` — это каталог:** Таблица `product` является справочником всех когда-либо существовавших товаров.
*   **Статус отслеживается отдельно:** Состояние товара (в очереди, в корзине, заказан) определяется его присутствием и статусом в таблицах `queue`, `basket_item` и `order_item`.
*   **Пользователь привязывается на этапе "Корзины":** Мы отказались от поля `assigned_to_user_account_id` в таблице `queue`. Очередь (`queue`) является общим, неперсонализированным бэклогом. Связь с конкретным пользователем устанавливается только в момент, когда товар добавляется в `basket` (корзину), которая жестко привязана к `user_account`.

**4. Наш текущий прогресс:**
*   **Файлы `SCHEMA.md`, `DATA.md` и `DATA_ORDER.md` обновлены:** Все документы приведены в соответствие с нашими последними архитектурными решениями.
*   **Мы находимся на Этапе 1: Приоритезация.**
*   **Таблица `product`:** Заполнение 8 исходных записей завершено.
*   **Таблица `queue`:** Мы находимся в процессе заполнения.

**5. Наша следующая задача:**
*   **Таблица:** `queue` в файле `DATA.md`.
*   **Запись:** Первая, с `id: 1`.
*   **Действие:** Мы готовы продолжить с вопроса о заполнении следующего поля для этой записи.
