### **Рабочее соглашение (версия 5.5) - Совместная работа и Процесс**

**0. Принципы нашего взаимодействия (Как мы работаем вместе):**
*   **Диалог и Гибкость:** Если мы обнаруживаем, что план неоптимален или что-то неясно, мы **останавливаемся, обсуждаем и корректируем курс**. Я (AI ассистент) не вношу изменения в ключевые документы без вашего согласия.
*   **Итеративное наполнение ("Вопрос-Ответ"):** При работе с `DATA.md` мы "проживаем" процесс. Я задаю вопросы для заполнения полей. **Мы совместно решаем**, что делать, если данных нет: оставить поле пустым или использовать правдоподобные вымышленные значения.
*   **Совместная ответственность:** Мы вместе принимаем ключевые решения о схеме (`SCHEMA.md`) и процессе, зафиксированном в этом документе.

**1. Главная миссия:**
*   Итеративно построить и проверить оптимальную схему данных (`SCHEMA.md`) и рабочий процесс для системы отслеживания заказов, используя `DATA.md` как полигон для проверки наших гипотез.

**2. Наш Текущий Рабочий Процесс (Гипотеза для проверки):**
*   *Этот раздел описывает наш **текущий** план. Согласно принципам, изложенным выше, мы можем и должны его пересматривать.*
*   **Этап 1: Приоритезация и Исследование.**
    1.  **`product`**: Фиксируем товар и его приоритет. **(Завершено)**
    2.  **`catalog`**: Создаем "карточку" товара в нашем внутреннем каталоге. Фиксируем здесь все его неизменные характеристики (название, описание, модель, бренд).
    3.  **`offer`**: На основе приоритета, находим для товара из каталога рыночные предложения и все сопутствующие данные (цены, условия, продавцы).
*   **Этап 2: Формирование Корзины и Заказа.**
    1.  **`queue`**: *(Вопрос на обсуждение: нужна ли эта таблица, или она является атрибутом `offer` или `basket`?)* Выстраиваем очередь на покупку.
    2.  **`basket` / `basket_item`**: Добавляем лучшие предложения в корзину.
    3.  **`order` / `order_item`**: Оформляем заказ.

**3. Ключевые технические решения и симуляции:**
*   **Абстрагирование ("Design by Contract"):** Мы симулируем "Wekan-Rating-Service", чтобы не увязать в его реализации.
*   **Контракт "Wekan-Rating-Service":**
    *   **Вход:** `wekan_app_id`, `board_id` и т.д.
    *   **Выход:** `calculated_priority` (число).
    *   **Правило Преобразования:** Отображаем `calculated_priority` на `priority_id` (Low, Medium, High).
**4. Наш следующий шаг:**
*   **Приступить к заполнению таблицы `catalog`**, используя предоставленные вами данные о фитингах. После этого перейдем к `offer`.
