# Рабочий Процесс Тестового Заказа для Сбора Данных

Этот документ описывает этапы рабочего процесса тестового заказа, следуя которому мы будем извлекать и фиксировать данные в DATA.md. Цель - собрать структурированные данные, необходимые для валидации и корректировки схемы базы данных в SCHEMA.md.

## 1. Приоритезация (Бэклог/Выбор Товаров)

На этом этапе мы определяем, какие товары потенциально интересны для заказа и отбираем те, с которыми предстоит работа.
*   **Исходные данные:** Анализ данных о товарах, хранящихся в таблице базы данных SQLite. Дополнительные исходные данные могут включать файлы типа aliExpress.2.0.md, logseq-inventory/pages/product.md, logseq-inventory/pages/catalog.md, aliexpress.numbers.csv для контекста или дополнительной информации. При анализе данных из таблицы SQLite могут использоваться соответствующие столбцы, такие как 'Goodies', 'Links' и 'status'. Приоритезация основана на использовании 4 сортировочных столбцов (по жизненным ценностям, Urgent/Important, по проектам) и стратегии присвоения тегов (например, #ni, #ui, #nu, #uu), сумма которых определяет общий приоритет. Отбор для дальнейшей работы производится по числовому значению столбца 'status'.
*   **Что фиксируем в DATA.md:**
    *   Список рассмотренных товаров (возможно, из столбца 'Goodies' в БД) с соответствующими ссылками (из столбца 'Links' в БД) и их исходным статусом (из столбца 'status' в БД).
    *   Присвоенные сортировочные теги для каждого товара.
    *   Итоговый приоритетный балл для каждого товара (сумма тегов).
    *   Критерии отбора (например, цена, потенциальная экономическая эффективность, наличие скидок, кешбэк, статус).
    *   Результат отбора: какие товары выбраны для потенциального заказа и почему, с указанием их приоритета и статуса.

## 2. Поиск/Эффективность (Анализ Экономической Выгоды)

На этом этапе мы детально анализируем выбранные товары с точки зрения экономической выгоды и других факторов.
*   **Исходные данные:** Информация о текущих ценах, скидках, купонах, кешбэке, стоимости доставки из различных источников (например, веб-сервисы, прайс-листы, данные конкурентов logseq-inventory/pages/competitor_price.md).
*   **Что фиксируем в DATA.md:**
    *   Финальная цена товара с учетом всех скидок и бонусов.
    *   Расчет потенциального кешбэка.
    *   Сравнение с ценами конкурентов (если применимо).
    *   Причина выбора конкретного продавца/предложения.

## 3. Корзина (Формирование Заказа)

На этом этапе выбранные товары добавляются в корзину и формируется сам заказ.
*   **Исходные данные:** Результаты этапа 2, информация о доступности товара, минимальном количестве для заказа (если есть).
*   **Что фиксируем в DATA.md:**
    *   Список товаров в корзине с их окончательными ценами.
    *   Общая стоимость корзины.
    *   Примененные купоны или промокоды.
    *   Выбранный способ доставки и его стоимость.
    *   Промежуточный статус заказа (например, "в корзине", "оформляется").
    *   Итоговая стоимость.

## 4. Оплата/Кошелек

На этом этапе выбирается метод оплаты, вносится и фиксируется необходимая сумма.
*   **Исходные данные:** Общая стоимость заказа, доступные методы оплаты (logseq-inventory/pages/pay_method.md), информация о кошельках (logseq-inventory/pages/wallet.md - если применимо).
*   **Что фиксируем в DATA.md:**
    *   Выбранный метод оплаты.
    *   Использованный кошелек или платежный аккаунт (если применимо).
    *   Статус платежа (например, "ожидает оплаты", "оплачен", "ошибка оплаты").
    *   Детали транзакции (если доступны и не содержат чувствительных данных).

## 5. Регистрация/Заказ (Финальное Оформление и Данные Пользователя)

На этом этапе используются данные пользователя для оформления заказа и его окончательной регистрации в системе.
*   **Исходные данные:** Данные пользователя (logseq-inventory/pages/user_account.md, logseq-inventory/pages/login.md), адрес доставки.
*   **Что фиксируем в DATA.md:**
    *   Идентификатор пользователя (или данные, позволяющие его идентифицировать в рамках теста).
    *   Адрес доставки.
    *   Контактная информация.
    *   Финальный статус заказа (например, "заказ оформлен", "ожидает отправки").
    *   Дата и время оформления заказа.

Следуя этим этапам, мы сможем собрать полный набор данных для тестового заказа в DATA.md, который затем будет использован для тщательной валидации и корректировки SCHEMA.md.
